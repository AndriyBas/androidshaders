// Pixel shader to generate the Depth Map
// Used for shadow mapping - generates depth map from the light's viewpoint
precision highp float;

varying vec4 position; 

void main() {
	// the depth
	float normalizedDistance  = position.z / position.w; //45.0;
	normalizedDistance = (normalizedDistance + 1.0) / 2.0;
	
	// bias
	//normalizedDistance += 0.00005;
	
	gl_FragColor = vec4(normalizedDistance, normalizedDistance, normalizedDistance, normalizedDistance); 
	
}